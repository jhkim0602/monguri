# 캘린더 플래너 UI 인수인계서

작성일: 2026-02-07  
작성자: Codex

## 1) 작업 목적
- 멘티 캘린더의 `플래너 모아보기`를 모바일 중심 UX로 재구성
- 카드 가독성(축소 프리뷰, 텍스트, 헤더) 개선
- 모달 동작을 모바일 기준으로 일관되게 정리

## 2) 핵심 변경 요약
- `플래너 모아보기`를 3열 카드 형태로 고정(`layoutMode="grid"`)
- 카드 비율을 플래너 비율(`3.2/5`)로 유지
- 카드 프리뷰 축소 기준을 데스크톱(`size="page"`)에서 모바일(`size="mini"`)로 변경
- 카드 프리뷰 스케일 값을 페이지에서 주입 가능하도록 구조화 (`previewScale`)
- 플래너 상세 모달을 모바일 프레임 사이즈로 통일
- 플래너 내부 task 클릭 시 열리는 상세 모달도 바텀시트가 아닌 중앙 모달로 통일
- 모아보기 영역 좌우 여백 최소화

## 3) 파일별 변경 상세

### A. `src/app/(mentee)/calendar/page.tsx`
- `week` 모드에서 `PlannerCollectionView`에 아래 props 주입:
  - `layoutMode="grid"`
  - `cardAspect="planner"`
  - `gridClassName="grid grid-cols-3 gap-[2px]"`
  - `cardClassName="border-0 rounded-none shadow-none"`
  - `previewScale={0.4}`
- 모아보기 컨테이너를 `-mx-[22px]`로 감싸 좌우 여백을 최소화

### B. `src/components/mentee/calendar/PlannerCollectionView.tsx`
- 모아보기 레이아웃 확장:
  - `layoutMode` (`grid` | `feed`)
  - `feedPreviewScale`
  - `cardAspect`
  - `previewScale`
- 일자별 데이터(`dayEntries`)를 사전 계산하도록 구조 변경
- 카드 렌더 공통화 함수(`renderCard`) 추가

### C. `src/components/mentee/calendar/DailyPlannerCard.tsx`
- 카드 props 확장:
  - `previewScale?: number`
  - `cardAspect?: "planner" | "square"`
- 카드 비율 결정식 변경:
  - `planner`면 `aspect-[3.2/5]`
  - `square`면 `aspect-square`
- 비-fill 경로 프리뷰 렌더를 고정 클래스 스케일에서 동적 스케일로 변경:
  - `transform: scale(previewScale)`
  - `width/height` 보정 추가
- 비-fill 경로에서 `PlannerDetailView`를 `size="mini"`로 렌더 (모바일 기준 통일)
- `textScale="boost"` 유지, `headerScale={1}`로 현재 고정

### D. `src/components/mentee/calendar/PlannerDetailModal.tsx`
- 모달 크기/레이아웃을 모바일 프레임 중심으로 조정:
  - `w-[390px]`, `max-w-[calc(100vw-24px)]`
  - `h-[calc(100vh-24px)]`, `max-h-[844px]`
  - `rounded-[24px]`
- 내부 `PlannerDetailView`를 `size="mini"`로 변경

### E. `src/components/mentee/calendar/PlannerDetailView.tsx`
- 텍스트 제어 props 추가:
  - `textScale?: "normal" | "boost"`
  - `headerScale?: number`
- `boost` 모드에서 카테고리/태스크/메모/헤더 폰트 크기 상향
- 헤더 영역 별도 스케일 적용 로직 추가 (`headerScaleStyle`)
- 헤더 줄바꿈 방지(`whitespace-nowrap`) 적용

### F. `src/components/mentee/planner/TaskDetailModal.tsx`
- 모바일에서도 바텀시트가 아닌 중앙 모달로 통일:
  - 오버레이 정렬: `items-center`
  - 패딩: `p-3`
  - 모달 라운드: `rounded-[32px]`
  - 애니메이션: `zoom-in-95`

## 4) 왜 이렇게 수정했는가
- 기존 프리뷰가 데스크톱 레이아웃 축소 기준으로 보이는 문제가 있어 카드 내 정보가 지나치게 작게 보임
- 모바일 앱/모바일 웹 기준으로 UI 일관성을 맞춰야 함
- 모달 UX가 화면/상황마다 다르게 보여 사용성 일관성이 낮았음

## 5) 현재 상태
- 모아보기: 3열 + 플래너 비율 + 작은 gap + 좁은 좌우 여백
- 카드 클릭 모달: 모바일 프레임 중앙 모달
- 모달 내 task 클릭 상세: 중앙 모달

## 6) 남은 이슈 / 참고
- 캘린더 외 영역 포함 프로젝트 전체에는 아직 반응형(`sm:`, `md:`) 분기가 남아 있음
- 타입 관련 기존 에러(멘토 화면 일부와 공용 컴포넌트 인터페이스 불일치)는 별도 정리 필요
- `100vh` 기반 높이는 모바일 브라우저 주소창 이슈 가능성이 있어 추후 `dvh` 검토 권장

## 7) 다음 담당자 권장 액션
1. 실제 디바이스에서 `previewScale` 최종값 미세 조정 (`0.38 ~ 0.42`)
2. 모달 높이 `100vh` -> `100dvh` 전환 검토
3. 멘토 화면 재사용 컴포넌트(`PlannerDetailModal`) props 계약 통일
4. 프로젝트 전역 모바일 단일 레이아웃 정리(잔여 `sm:/md:/lg:` 제거)

